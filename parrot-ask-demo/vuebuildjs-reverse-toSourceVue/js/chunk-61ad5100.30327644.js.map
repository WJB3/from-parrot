{"version":3,"sources":["webpack:///./src/views/system/user/profile/userAvatar.vue?7b65","webpack:///./src/views/system/user/profile/userInfo.vue?2952","webpack:///src/views/system/user/profile/userInfo.vue","webpack:///./src/views/system/user/profile/userInfo.vue?a900","webpack:///./src/views/system/user/profile/userInfo.vue","webpack:///./src/views/system/user/profile/index.vue?44ba","webpack:///src/views/system/user/profile/index.vue","webpack:///./src/views/system/user/profile/index.vue?f0b1","webpack:///./src/views/system/user/profile/index.vue","webpack:///./src/views/system/user/profile/userAvatar.vue?ed72","webpack:///src/views/system/user/profile/userAvatar.vue","webpack:///./src/views/system/user/profile/userAvatar.vue?cd0e","webpack:///./src/views/system/user/profile/userAvatar.vue","webpack:///./src/api/system/user.js","webpack:///./src/views/system/user/profile/resetPwd.vue?839e","webpack:///src/views/system/user/profile/resetPwd.vue","webpack:///./src/views/system/user/profile/resetPwd.vue?15de","webpack:///./src/views/system/user/profile/resetPwd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","user","rules","model","value","callback","$$v","$set","expression","_v","on","submit","close","staticRenderFns","props","type","Object","data","nickName","email","phonenumber","methods","$refs","validate","valid","$store","dispatch","$route","$router","push","component","staticClass","slot","_s","userName","dept","deptName","postGroup","_e","roleGroup","createTime","activeTab","name","components","created","getUser","$event","editCropper","options","img","title","open","modalOpened","style","height","autoCrop","autoCropWidth","autoCropHeight","fixedBox","realTime","previews","url","requestUpload","beforeUpload","span","offset","changeScale","rotateLeft","rotateRight","uploadImg","visible","store","cropper","num","file","indexOf","msgError","reader","readAsDataURL","onload","getCropBlob","formData","append","listUser","query","request","method","params","userId","praseStrEmpty","addUser","updateUser","delUser","exportUser","resetUserPwd","password","changeUserStatus","status","getUserProfile","updateUserProfile","updateUserPwd","oldPassword","newPassword","uploadAvatar","importTemplate","Error","test","undefined","confirmPassword"],"mappings":"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","file":"static/js/chunk-61ad5100.30327644.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userAvatar.vue?vue&type=style&index=0&id=bd66f6e2&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.user,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户昵称\",\"prop\":\"nickName\"}},[_c('el-input',{model:{value:(_vm.user.nickName),callback:function ($$v) {_vm.$set(_vm.user, \"nickName\", $$v)},expression:\"user.nickName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号码\",\"prop\":\"phonenumber\"}},[_c('el-input',{attrs:{\"maxlength\":\"11\"},model:{value:(_vm.user.phonenumber),callback:function ($$v) {_vm.$set(_vm.user, \"phonenumber\", $$v)},expression:\"user.phonenumber\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-radio-group',{model:{value:(_vm.user.sex),callback:function ($$v) {_vm.$set(_vm.user, \"sex\", $$v)},expression:\"user.sex\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"女\")])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.submit}},[_vm._v(\"保存\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form ref=\"form\" :model=\"user\" :rules=\"rules\" label-width=\"80px\">\r\n    <el-form-item label=\"用户昵称\" prop=\"nickName\">\r\n      <el-input v-model=\"user.nickName\" />\r\n    </el-form-item> \r\n    <el-form-item label=\"手机号码\" prop=\"phonenumber\">\r\n      <el-input v-model=\"user.phonenumber\" maxlength=\"11\" />\r\n    </el-form-item>\r\n    <el-form-item label=\"邮箱\" prop=\"email\">\r\n      <el-input v-model=\"user.email\" maxlength=\"50\" />\r\n    </el-form-item>\r\n    <el-form-item label=\"性别\">\r\n      <el-radio-group v-model=\"user.sex\">\r\n        <el-radio label=\"0\">男</el-radio>\r\n        <el-radio label=\"1\">女</el-radio>\r\n      </el-radio-group>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" size=\"mini\" @click=\"submit\">保存</el-button>\r\n      <el-button type=\"danger\" size=\"mini\" @click=\"close\">关闭</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { updateUserProfile } from \"@/api/system/user\";\r\nimport Global from \"@/layout/components/global.js\";\r\n\r\nexport default {\r\n  props: {\r\n    user: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 表单校验\r\n      rules: {\r\n        nickName: [\r\n          { required: true, message: \"用户昵称不能为空\", trigger: \"blur\" }\r\n        ],\r\n        email: [\r\n          { required: true, message: \"邮箱地址不能为空\", trigger: \"blur\" },\r\n          {\r\n            type: \"email\",\r\n            message: \"'请输入正确的邮箱地址\",\r\n            trigger: [\"blur\", \"change\"]\r\n          }\r\n        ],\r\n        phonenumber: [\r\n          { required: true, message: \"手机号码不能为空\", trigger: \"blur\" },\r\n          {\r\n            pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\r\n            message: \"请输入正确的手机号码\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          updateUserProfile(this.user).then(response => {\r\n            this.msgSuccess(\"修改成功\");\r\n          });\r\n        }\r\n      });\r\n    },\r\n    close() {\r\n      Global.$emit(\"removeCache\", \"closeSelectedTag\", this.$route);\r\n      this.$store.dispatch(\"tagsView/delView\", this.$route);\r\n      this.$router.push({ path: \"/index\" });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userInfo.vue?vue&type=template&id=e6da24c6&\"\nimport script from \"./userInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./userInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6,\"xs\":24}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"个人信息\")])]),_c('div',[_c('div',{staticClass:\"text-center\"},[_c('userAvatar',{attrs:{\"user\":_vm.user}})],1),_c('ul',{staticClass:\"list-group list-group-striped\"},[_c('li',{staticClass:\"list-group-item\"},[_c('svg-icon',{attrs:{\"icon-class\":\"user\"}}),_vm._v(\"用户名称 \"),_c('div',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.user.userName))])],1),_c('li',{staticClass:\"list-group-item\"},[_c('svg-icon',{attrs:{\"icon-class\":\"phone\"}}),_vm._v(\"手机号码 \"),_c('div',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.user.phonenumber))])],1),_c('li',{staticClass:\"list-group-item\"},[_c('svg-icon',{attrs:{\"icon-class\":\"email\"}}),_vm._v(\"用户邮箱 \"),_c('div',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.user.email))])],1),_c('li',{staticClass:\"list-group-item\"},[_c('svg-icon',{attrs:{\"icon-class\":\"tree\"}}),_vm._v(\"所属部门 \"),(_vm.user.dept)?_c('div',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.user.dept.deptName)+\" / \"+_vm._s(_vm.postGroup))]):_vm._e()],1),_c('li',{staticClass:\"list-group-item\"},[_c('svg-icon',{attrs:{\"icon-class\":\"peoples\"}}),_vm._v(\"所属角色 \"),_c('div',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.roleGroup))])],1),_c('li',{staticClass:\"list-group-item\"},[_c('svg-icon',{attrs:{\"icon-class\":\"date\"}}),_vm._v(\"创建日期 \"),_c('div',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.user.createTime))])],1)])])])],1),_c('el-col',{attrs:{\"span\":18,\"xs\":24}},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"基本资料\")])]),_c('el-tabs',{model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本资料\",\"name\":\"userinfo\"}},[_c('userInfo',{attrs:{\"user\":_vm.user}})],1),_c('el-tab-pane',{attrs:{\"label\":\"修改密码\",\"name\":\"resetPwd\"}},[_c('resetPwd',{attrs:{\"user\":_vm.user}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"app-container\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"6\" :xs=\"24\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>个人信息</span>\r\n          </div>\r\n          <div>\r\n            <div class=\"text-center\">\r\n              <userAvatar :user=\"user\" />\r\n            </div>\r\n            <ul class=\"list-group list-group-striped\">\r\n              <li class=\"list-group-item\">\r\n                <svg-icon icon-class=\"user\" />用户名称\r\n                <div class=\"pull-right\">{{ user.userName }}</div>\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <svg-icon icon-class=\"phone\" />手机号码\r\n                <div class=\"pull-right\">{{ user.phonenumber }}</div>\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <svg-icon icon-class=\"email\" />用户邮箱\r\n                <div class=\"pull-right\">{{ user.email }}</div>\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <svg-icon icon-class=\"tree\" />所属部门\r\n                <div class=\"pull-right\" v-if=\"user.dept\">{{ user.dept.deptName }} / {{ postGroup }}</div>\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <svg-icon icon-class=\"peoples\" />所属角色\r\n                <div class=\"pull-right\">{{ roleGroup }}</div>\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <svg-icon icon-class=\"date\" />创建日期\r\n                <div class=\"pull-right\">{{ user.createTime }}</div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"18\" :xs=\"24\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>基本资料</span>\r\n          </div>\r\n          <el-tabs v-model=\"activeTab\">\r\n            <el-tab-pane label=\"基本资料\" name=\"userinfo\">\r\n              <userInfo :user=\"user\" />\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"修改密码\" name=\"resetPwd\">\r\n              <resetPwd :user=\"user\" />\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userAvatar from \"./userAvatar\";\r\nimport userInfo from \"./userInfo\";\r\nimport resetPwd from \"./resetPwd\";\r\nimport { getUserProfile } from \"@/api/system/user\";\r\n\r\nexport default {\r\n  name: \"Profile\",\r\n  components: { userAvatar, userInfo, resetPwd },\r\n  data() {\r\n    return {\r\n      user: {},\r\n      roleGroup: {},\r\n      postGroup: {},\r\n      activeTab: \"userinfo\"\r\n    };\r\n  },\r\n  created() {\r\n    this.getUser();\r\n  },\r\n  methods: {\r\n    getUser() {\r\n      getUserProfile().then(response => {\r\n        this.user = response.data;\r\n        this.roleGroup = response.roleGroup;\r\n        this.postGroup = response.postGroup;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3cdf97ec&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"user-info-head\",on:{\"click\":function($event){return _vm.editCropper()}}},[_c('img',{staticClass:\"img-circle img-lg\",attrs:{\"src\":_vm.options.img,\"title\":\"点击上传头像\"}})]),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.open,\"width\":\"800px\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.open=$event},\"opened\":_vm.modalOpened}},[_c('el-row',[_c('el-col',{style:({height: '350px'}),attrs:{\"xs\":24,\"md\":12}},[(_vm.visible)?_c('vue-cropper',{ref:\"cropper\",attrs:{\"img\":_vm.options.img,\"info\":true,\"autoCrop\":_vm.options.autoCrop,\"autoCropWidth\":_vm.options.autoCropWidth,\"autoCropHeight\":_vm.options.autoCropHeight,\"fixedBox\":_vm.options.fixedBox},on:{\"realTime\":_vm.realTime}}):_vm._e()],1),_c('el-col',{style:({height: '350px'}),attrs:{\"xs\":24,\"md\":12}},[_c('div',{staticClass:\"avatar-upload-preview\"},[_c('img',{style:(_vm.previews.img),attrs:{\"src\":_vm.previews.url}})])])],1),_c('br'),_c('el-row',[_c('el-col',{attrs:{\"lg\":2,\"md\":2}},[_c('el-upload',{attrs:{\"action\":\"#\",\"http-request\":_vm.requestUpload,\"show-file-list\":false,\"before-upload\":_vm.beforeUpload}},[_c('el-button',{attrs:{\"size\":\"small\"}},[_vm._v(\" 选择 \"),_c('i',{staticClass:\"el-icon-upload el-icon--right\"})])],1)],1),_c('el-col',{attrs:{\"lg\":{span: 1, offset: 2},\"md\":2}},[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.changeScale(1)}}})],1),_c('el-col',{attrs:{\"lg\":{span: 1, offset: 1},\"md\":2}},[_c('el-button',{attrs:{\"icon\":\"el-icon-minus\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.changeScale(-1)}}})],1),_c('el-col',{attrs:{\"lg\":{span: 1, offset: 1},\"md\":2}},[_c('el-button',{attrs:{\"icon\":\"el-icon-refresh-left\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.rotateLeft()}}})],1),_c('el-col',{attrs:{\"lg\":{span: 1, offset: 1},\"md\":2}},[_c('el-button',{attrs:{\"icon\":\"el-icon-refresh-right\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.rotateRight()}}})],1),_c('el-col',{attrs:{\"lg\":{span: 2, offset: 6},\"md\":2}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.uploadImg()}}},[_vm._v(\"提 交\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"user-info-head\" @click=\"editCropper()\"><img v-bind:src=\"options.img\" title=\"点击上传头像\" class=\"img-circle img-lg\" /></div>\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"800px\" append-to-body @opened=\"modalOpened\">\r\n      <el-row>\r\n        <el-col :xs=\"24\" :md=\"12\" :style=\"{height: '350px'}\">\r\n          <vue-cropper\r\n            ref=\"cropper\"\r\n            :img=\"options.img\"\r\n            :info=\"true\"\r\n            :autoCrop=\"options.autoCrop\"\r\n            :autoCropWidth=\"options.autoCropWidth\"\r\n            :autoCropHeight=\"options.autoCropHeight\"\r\n            :fixedBox=\"options.fixedBox\"\r\n            @realTime=\"realTime\"\r\n            v-if=\"visible\"\r\n          />\r\n        </el-col>\r\n        <el-col :xs=\"24\" :md=\"12\" :style=\"{height: '350px'}\">\r\n          <div class=\"avatar-upload-preview\">\r\n            <img :src=\"previews.url\" :style=\"previews.img\" />\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <br />\r\n      <el-row>\r\n        <el-col :lg=\"2\" :md=\"2\">\r\n          <el-upload action=\"#\" :http-request=\"requestUpload\" :show-file-list=\"false\" :before-upload=\"beforeUpload\">\r\n            <el-button size=\"small\">\r\n              选择\r\n              <i class=\"el-icon-upload el-icon--right\"></i>\r\n            </el-button>\r\n          </el-upload>\r\n        </el-col>\r\n        <el-col :lg=\"{span: 1, offset: 2}\" :md=\"2\">\r\n          <el-button icon=\"el-icon-plus\" size=\"small\" @click=\"changeScale(1)\"></el-button>\r\n        </el-col>\r\n        <el-col :lg=\"{span: 1, offset: 1}\" :md=\"2\">\r\n          <el-button icon=\"el-icon-minus\" size=\"small\" @click=\"changeScale(-1)\"></el-button>\r\n        </el-col>\r\n        <el-col :lg=\"{span: 1, offset: 1}\" :md=\"2\">\r\n          <el-button icon=\"el-icon-refresh-left\" size=\"small\" @click=\"rotateLeft()\"></el-button>\r\n        </el-col>\r\n        <el-col :lg=\"{span: 1, offset: 1}\" :md=\"2\">\r\n          <el-button icon=\"el-icon-refresh-right\" size=\"small\" @click=\"rotateRight()\"></el-button>\r\n        </el-col>\r\n        <el-col :lg=\"{span: 2, offset: 6}\" :md=\"2\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"uploadImg()\">提 交</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from \"@/store\";\r\nimport { VueCropper } from \"vue-cropper\";\r\nimport { uploadAvatar } from \"@/api/system/user\";\r\n\r\nexport default {\r\n  components: { VueCropper },\r\n  props: {\r\n    user: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 是否显示cropper\r\n      visible: false,\r\n      // 弹出层标题\r\n      title: \"修改头像\",\r\n      options: {\r\n        img: store.getters.avatar, //裁剪图片的地址\r\n        autoCrop: true, // 是否默认生成截图框\r\n        autoCropWidth: 200, // 默认生成截图框宽度\r\n        autoCropHeight: 200, // 默认生成截图框高度\r\n        fixedBox: true // 固定截图框大小 不允许改变\r\n      },\r\n      previews: {}\r\n    };\r\n  },\r\n  methods: {\r\n    // 编辑头像\r\n    editCropper() {\r\n      this.open = true;\r\n    },\r\n    // 打开弹出层结束时的回调\r\n    modalOpened() {\r\n      this.visible = true;\r\n    },\r\n    // 覆盖默认的上传行为\r\n    requestUpload() {\r\n    },\r\n    // 向左旋转\r\n    rotateLeft() {\r\n      this.$refs.cropper.rotateLeft();\r\n    },\r\n    // 向右旋转\r\n    rotateRight() {\r\n      this.$refs.cropper.rotateRight();\r\n    },\r\n    // 图片缩放\r\n    changeScale(num) {\r\n      num = num || 1;\r\n      this.$refs.cropper.changeScale(num);\r\n    },\r\n    // 上传预处理\r\n    beforeUpload(file) {\r\n      if (file.type.indexOf(\"image/\") == -1) {\r\n        this.msgError(\"文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。\");\r\n      } else {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n          this.options.img = reader.result;\r\n        };\r\n      }\r\n    },\r\n    // 上传图片\r\n    uploadImg() {\r\n      this.$refs.cropper.getCropBlob(data => {\r\n        let formData = new FormData();\r\n        formData.append(\"avatarfile\", data);\r\n        uploadAvatar(formData).then(response => {\r\n          this.open = false;\r\n          this.options.img = process.env.VUE_APP_BASE_API + response.imgUrl;\r\n          store.commit('SET_AVATAR', this.options.img);\r\n          this.msgSuccess(\"修改成功\");\r\n          this.visible = false;\r\n        });\r\n      });\r\n    },\r\n    // 实时预览\r\n    realTime(data) {\r\n      this.previews = data;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.user-info-head {\r\n  position: relative;\r\n  display: inline-block;\r\n  height: 120px;\r\n}\r\n\r\n.user-info-head:hover:after {\r\n  content: '+';\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  color: #eee;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  font-size: 24px;\r\n  font-style: normal;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  cursor: pointer;\r\n  line-height: 110px;\r\n  border-radius: 50%;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userAvatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userAvatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userAvatar.vue?vue&type=template&id=bd66f6e2&scoped=true&\"\nimport script from \"./userAvatar.vue?vue&type=script&lang=js&\"\nexport * from \"./userAvatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userAvatar.vue?vue&type=style&index=0&id=bd66f6e2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd66f6e2\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nimport { praseStrEmpty } from \"@/utils/ruoyi\";\r\n\r\n// 查询用户列表\r\nexport function listUser(query) {\r\n  return request({\r\n    url: '/system/user/list',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n// 查询用户详细\r\nexport function getUser(userId) {\r\n  return request({\r\n    url: '/system/user/' + praseStrEmpty(userId),\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 新增用户\r\nexport function addUser(data) {\r\n  return request({\r\n    url: '/system/user',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 修改用户\r\nexport function updateUser(data) {\r\n  return request({\r\n    url: '/system/user',\r\n    method: 'put',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 删除用户\r\nexport function delUser(userId) {\r\n  return request({\r\n    url: '/system/user/' + userId,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 导出用户\r\nexport function exportUser(query) {\r\n  return request({\r\n    url: '/system/user/export',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n// 用户密码重置\r\nexport function resetUserPwd(userId, password) {\r\n  const data = {\r\n    userId,\r\n    password\r\n  }\r\n  return request({\r\n    url: '/system/user/resetPwd',\r\n    method: 'put',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 用户状态修改\r\nexport function changeUserStatus(userId, status) {\r\n  const data = {\r\n    userId,\r\n    status\r\n  }\r\n  return request({\r\n    url: '/system/user/changeStatus',\r\n    method: 'put',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 查询用户个人信息\r\nexport function getUserProfile() {\r\n  return request({\r\n    url: '/system/user/profile',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 修改用户个人信息\r\nexport function updateUserProfile(data) {\r\n  return request({\r\n    url: '/system/user/profile',\r\n    method: 'put',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 用户密码重置\r\nexport function updateUserPwd(oldPassword, newPassword) {\r\n  const data = {\r\n    oldPassword,\r\n    newPassword\r\n  }\r\n  return request({\r\n    url: '/system/user/profile/updatePwd',\r\n    method: 'put',\r\n    params: data\r\n  })\r\n}\r\n\r\n// 用户头像上传\r\nexport function uploadAvatar(data) {\r\n  return request({\r\n    url: '/system/user/profile/avatar',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 下载用户导入模板\r\nexport function importTemplate() {\r\n  return request({\r\n    url: '/system/user/importTemplate',\r\n    method: 'get'\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",attrs:{\"model\":_vm.user,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"旧密码\",\"prop\":\"oldPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入旧密码\",\"type\":\"password\"},model:{value:(_vm.user.oldPassword),callback:function ($$v) {_vm.$set(_vm.user, \"oldPassword\", $$v)},expression:\"user.oldPassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入新密码\",\"type\":\"password\"},model:{value:(_vm.user.newPassword),callback:function ($$v) {_vm.$set(_vm.user, \"newPassword\", $$v)},expression:\"user.newPassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"confirmPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"请确认密码\",\"type\":\"password\"},model:{value:(_vm.user.confirmPassword),callback:function ($$v) {_vm.$set(_vm.user, \"confirmPassword\", $$v)},expression:\"user.confirmPassword\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.submit}},[_vm._v(\"保存\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form ref=\"form\" :model=\"user\" :rules=\"rules\" label-width=\"80px\">\r\n    <el-form-item label=\"旧密码\" prop=\"oldPassword\">\r\n      <el-input v-model=\"user.oldPassword\" placeholder=\"请输入旧密码\" type=\"password\" />\r\n    </el-form-item>\r\n    <el-form-item label=\"新密码\" prop=\"newPassword\">\r\n      <el-input v-model=\"user.newPassword\" placeholder=\"请输入新密码\" type=\"password\" />\r\n    </el-form-item>\r\n    <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\r\n      <el-input v-model=\"user.confirmPassword\" placeholder=\"请确认密码\" type=\"password\" />\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" size=\"mini\" @click=\"submit\">保存</el-button>\r\n      <el-button type=\"danger\" size=\"mini\" @click=\"close\">关闭</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport { updateUserPwd } from \"@/api/system/user\";\r\nimport Global from \"@/layout/components/global.js\";\r\n\r\nexport default {\r\n  data() {\r\n    const equalToPassword = (rule, value, callback) => {\r\n      if (this.user.newPassword !== value) {\r\n        callback(new Error(\"两次输入的密码不一致\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      test: \"1test\",\r\n      user: {\r\n        oldPassword: undefined,\r\n        newPassword: undefined,\r\n        confirmPassword: undefined\r\n      },\r\n      // 表单校验\r\n      rules: {\r\n        oldPassword: [\r\n          { required: true, message: \"旧密码不能为空\", trigger: \"blur\" }\r\n        ],\r\n        newPassword: [\r\n          { required: true, message: \"新密码不能为空\", trigger: \"blur\" },\r\n          { min: 6, max: 20, message: \"长度在 6 到 20 个字符\", trigger: \"blur\" }\r\n        ],\r\n        confirmPassword: [\r\n          { required: true, message: \"确认密码不能为空\", trigger: \"blur\" },\r\n          { required: true, validator: equalToPassword, trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          updateUserPwd(this.user.oldPassword, this.user.newPassword).then(\r\n            response => {\r\n              this.msgSuccess(\"修改成功\");\r\n            }\r\n          );\r\n        }\r\n      });\r\n    },\r\n    close() {\r\n      Global.$emit(\"removeCache\", \"closeSelectedTag\", this.$route);\r\n      this.$store.dispatch(\"tagsView/delView\", this.$route);\r\n      this.$router.push({ path: \"/index\" });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPwd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPwd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resetPwd.vue?vue&type=template&id=af78e422&\"\nimport script from \"./resetPwd.vue?vue&type=script&lang=js&\"\nexport * from \"./resetPwd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}